/*C3*/SET SCHEMA PUBLIC
alter table EVE_VOIT drop constraint FK402A654F8F6944DD
alter table EVE_VOIT drop constraint FK402A654F4A1757D8
alter table PASSENGER_VOITURE drop constraint FKF7A2DE5F6A400AF6
alter table PASSENGER_VOITURE drop constraint FKF7A2DE5F1AC06E62
alter table VOITURE drop constraint FK5052ED24183C54E8
drop table Book if exists
drop table EVENEMENT if exists
drop table EVE_VOIT if exists
drop table PASSENGER_VOITURE if exists
drop table PERSONNE if exists
drop table VOITURE if exists
create table Book (isbn integer generated by default as identity (start with 1), author varchar(255), note integer not null, title varchar(255), primary key (isbn))
create table EVENEMENT (id integer not null, date timestamp, lieu varchar(255), primary key (id))
create table EVE_VOIT (idEvent integer not null, idVoit integer not null)
create table PASSENGER_VOITURE (idPassenger integer not null, idVoiture integer not null)
create table PERSONNE (id integer generated by default as identity (start with 1), name varchar(255), primary key (id))
create table VOITURE (id integer not null, nb_places integer not null, chauffeur_id integer, primary key (id))
alter table EVE_VOIT add constraint FK402A654F8F6944DD foreign key (idEvent) references EVENEMENT
alter table EVE_VOIT add constraint FK402A654F4A1757D8 foreign key (idVoit) references VOITURE
alter table PASSENGER_VOITURE add constraint FKF7A2DE5F6A400AF6 foreign key (idPassenger) references PERSONNE
alter table PASSENGER_VOITURE add constraint FKF7A2DE5F1AC06E62 foreign key (idVoiture) references VOITURE
alter table VOITURE add constraint FK5052ED24183C54E8 foreign key (chauffeur_id) references PERSONNE
INSERT INTO PERSONNE VALUES(1,'tutu')
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
alter table EVE_VOIT drop constraint FK402A654F8F6944DD
alter table EVE_VOIT drop constraint FK402A654F4A1757D8
alter table PASSENGER_VOITURE drop constraint FKF7A2DE5F6A400AF6
alter table PASSENGER_VOITURE drop constraint FKF7A2DE5F1AC06E62
alter table VOITURE drop constraint FK5052ED24183C54E8
drop table Book if exists
drop table EVENEMENT if exists
drop table EVE_VOIT if exists
drop table PASSENGER_VOITURE if exists
drop table PERSONNE if exists
drop table VOITURE if exists
create table Book (isbn integer generated by default as identity (start with 1), author varchar(255), note integer not null, title varchar(255), primary key (isbn))
create table EVENEMENT (id integer not null, date timestamp, lieu varchar(255), primary key (id))
create table EVE_VOIT (idEvent integer not null, idVoit integer not null)
create table PASSENGER_VOITURE (idPassenger integer not null, idVoiture integer not null)
create table PERSONNE (id integer generated by default as identity (start with 1), name varchar(255), primary key (id))
create table VOITURE (id integer not null, nb_places integer not null, chauffeur_id integer, primary key (id))
alter table EVE_VOIT add constraint FK402A654F8F6944DD foreign key (idEvent) references EVENEMENT
alter table EVE_VOIT add constraint FK402A654F4A1757D8 foreign key (idVoit) references VOITURE
alter table PASSENGER_VOITURE add constraint FKF7A2DE5F6A400AF6 foreign key (idPassenger) references PERSONNE
alter table PASSENGER_VOITURE add constraint FKF7A2DE5F1AC06E62 foreign key (idVoiture) references VOITURE
alter table VOITURE add constraint FK5052ED24183C54E8 foreign key (chauffeur_id) references PERSONNE
INSERT INTO PERSONNE VALUES(1,'fkosf')
COMMIT
INSERT INTO PERSONNE VALUES(2,'komsv')
COMMIT
INSERT INTO PERSONNE VALUES(3,'tutu')
COMMIT
DISCONNECT
